<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Test Daily Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 min-h-screen flex items-center justify-center p-4">
  <div class="max-w-xl w-full bg-white shadow-md rounded-lg p-6 space-y-4">
    
    <div class="text-center">
      <h1 class="text-2xl font-bold">Daily Suwaal (Test)</h1>
    </div>

    <div id="quiz-box" class="space-y-3">
      <p id="question" class="font-semibold">🧾 Quran me kitni surah hai?</p>

      <!-- Change mode here -->
      <script>const mode = "mcq"; // change to "text" for text mode</script>

      <div id="options-box" class="space-y-2"></div>
      <input type="text" id="text-answer" placeholder="Type your answer" class="hidden w-full border px-3 py-2 rounded"/>

      <input type="text" id="name" placeholder="Your Name" class="w-full border px-3 py-2 rounded" required>
      <input type="text" id="phone" placeholder="Phone Number" class="w-full border px-3 py-2 rounded" required>
      <input type="text" id="address" placeholder="Address" class="w-full border px-3 py-2 rounded" required>

      <button id="submit-btn" class="bg-blue-600 text-white w-full py-2 rounded">📤 Submit Answer</button>
      <p id="status" class="text-center text-sm mt-2"></p>
    </div>
  </div>

  <script>
    const correctAnswer = mode === "mcq" ? "1" : "114";
    const options = ["112", "114", "116", "118"];
    const optionsBox = document.getElementById("options-box");
    const textAnswer = document.getElementById("text-answer");

    if (mode === "mcq") {
      options.forEach((opt, i) => {
        optionsBox.innerHTML += `
          <label class="block">
            <input type="radio" name="option" value="${i}" class="mr-2"> ${opt}
          </label>`;
      });
    } else {
      optionsBox.classList.add("hidden");
      textAnswer.classList.remove("hidden");
    }

    document.getElementById("submit-btn").onclick = () => {
      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const address = document.getElementById("address").value.trim();
      const statusEl = document.getElementById("status");

      if (!name || !phone || !address) {
        alert("⚠️ Fill all fields");
        return;
      }

      let userAnswer = "";
      if (mode === "mcq") {
        const selected = document.querySelector('input[name="option"]:checked');
        if (!selected) return alert("⚠️ Please select an option");
        userAnswer = selected.value;
      } else {
        userAnswer = textAnswer.value.trim().toLowerCase();
        if (!userAnswer) return alert("⚠️ Answer required");
      }

      let isCorrect = false;
      if (mode === "mcq") {
        isCorrect = userAnswer === correctAnswer;
      } else {
        const normalize = txt => txt.replace(/[^a-z0-9]/gi, '').toLowerCase();
        isCorrect = normalize(userAnswer).includes(normalize(correctAnswer));
      }

      statusEl.innerText = "✅ Aap ka jawab record ho gaya hai chahe sahi ho ya galat. In shaa Allah baad me bata denge.";
    };
  </script>
</body>
</html>
